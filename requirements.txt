# HAVEN Backend - Python 3.12 Compatible Requirements
# Keeping original stack with pandas and PyTorch for Python 3.12
# Last updated: August 2025

# ============================================================================
# CORE WEB FRAMEWORK (Python 3.12 Ready)
# ============================================================================
fastapi==0.115.0
uvicorn[standard]==0.30.6
python-multipart==0.0.9

# ============================================================================
# DATABASE & ORM (Python 3.12 Ready)
# ============================================================================
sqlalchemy==2.0.32
psycopg2-binary==2.9.10
alembic==1.13.2

# ============================================================================
# AUTHENTICATION & SECURITY (Python 3.12 Ready)
# ============================================================================
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
PyJWT==2.9.0
authlib==1.3.1
cryptography==43.0.1

# ============================================================================
# OAUTH INTEGRATION (Python 3.12 Ready)
# ============================================================================
google-auth==2.34.0
google-auth-oauthlib==1.2.1
google-api-python-client==2.143.0
facebook-sdk==3.1.0

# ============================================================================
# HTTP CLIENT (Python 3.12 Ready)
# ============================================================================
httpx==0.27.2
requests==2.32.3

# ============================================================================
# CONFIGURATION & ENVIRONMENT (Python 3.12 Ready)
# ============================================================================
python-dotenv==1.0.1
pydantic==2.8.2
pydantic-settings==2.4.0

# ============================================================================
# DATA PROCESSING (Python 3.12 Fully Supported)
# ============================================================================
pandas==2.2.3  # Full Python 3.12 support since 2.2.0
numpy==1.26.4   # Stable Python 3.12 support

# ============================================================================
# ML MODELS & NLP (Python 3.12 Compatible)
# ============================================================================
# PyTorch with Python 3.12 support (experimental but working)
torch==2.4.1+cpu --index-url https://download.pytorch.org/whl/cpu
transformers==4.44.2  # Latest with Python 3.12 improvements
tokenizers==0.19.1
huggingface-hub==0.24.6

# NLP Libraries
nltk==3.9.1
sentencepiece==0.2.0

# IndicTrans2 for Translation (4 languages: en, hi, ta, te)
indictrans==0.60
indic-transliteration==2.3.44

# DistilBERT and SHAP for Fraud Detection
scikit-learn==1.5.1  # Full Python 3.12 support
shap==0.46.0         # Compatible with Python 3.12

# Additional ML dependencies
joblib==1.4.2
scipy==1.14.1

# ============================================================================
# CACHING & STORAGE (Python 3.12 Ready)
# ============================================================================
redis==5.0.8
aioredis==2.0.1

# ============================================================================
# PAYMENT INTEGRATION (Python 3.12 Ready)
# ============================================================================
instamojo-wrapper==1.2.0

# ============================================================================
# EMAIL SERVICE (Python 3.12 Ready)
# ============================================================================
sib-api-v3-sdk==7.6.0

# ============================================================================
# SEARCH SERVICE (Python 3.12 Ready)
# ============================================================================
algoliasearch==3.0.0

# ============================================================================
# FILE PROCESSING (Python 3.12 Ready)
# ============================================================================
pillow==10.4.0
aiofiles==24.1.0

# ============================================================================
# UTILITIES (Python 3.12 Ready)
# ============================================================================
python-slugify==8.0.4
python-dateutil==2.9.0
email-validator==2.2.0

# ============================================================================
# PRODUCTION SERVER (Python 3.12 Ready)
# ============================================================================
gunicorn==23.0.0

# ============================================================================
# MONITORING & LOGGING (Python 3.12 Ready)
# ============================================================================
structlog==24.4.0

# ============================================================================
# SECURITY (Python 3.12 Ready)
# ============================================================================
secure==0.3.0

# ============================================================================
# HEALTH CHECKS (Python 3.12 Ready)
# ============================================================================
fastapi-health==0.4.0

# ============================================================================
# RATE LIMITING (Python 3.12 Ready)
# ============================================================================
slowapi==0.1.9

# ============================================================================
# DEVELOPMENT & TESTING (Optional, Python 3.12 Ready)
# ============================================================================
pytest==8.3.2
pytest-asyncio==0.23.8

# ============================================================================
# NOTES FOR DEPLOYMENT
# ============================================================================
# 1. This requirements file maintains the original HAVEN stack
# 2. pandas is fully supported in Python 3.12 (version 2.2.0+)
# 3. PyTorch has experimental Python 3.12 support - test thoroughly
# 4. All ML models (IndicTrans2, DistilBERT, T5) should work as designed
# 5. No code changes needed - original pandas/PyTorch code works
# 6. Set PYTHON_VERSION=3.12.7 in environment variables

# ============================================================================
# DEPLOYMENT CONFIGURATION
# ============================================================================
# Environment Variables:
# PYTHON_VERSION=3.12.7
# TORCH_DEVICE=cpu
# USE_QUANTIZATION=true
# ENVIRONMENT=production

# Build Command:
# pip install --upgrade pip && pip cache purge && pip install --no-cache-dir -r requirements.txt && python -c "import nltk; nltk.download('punkt', quiet=True)"

# Start Command:
# uvicorn app:app --host 0.0.0.0 --port $PORT --workers 2

# ============================================================================
# TESTING RECOMMENDATIONS
# ============================================================================
# 1. Test all ML models thoroughly in staging environment
# 2. Verify IndicTrans2 translation works for all 4 languages
# 3. Test DistilBERT fraud detection with SHAP explanations
# 4. Validate T5 term simplification functionality
# 5. Monitor PyTorch performance and stability
# 6. Have Python 3.11 fallback ready if issues arise

# ============================================================================
# MIGRATION BENEFITS
# ============================================================================
# - Keep existing codebase (no pandasâ†’polars migration)
# - Maintain all original ML functionality
# - Get Python 3.12 performance improvements (5-10%)
# - Future-proof with modern Python version
# - Easier maintenance (familiar stack)

