# HAVEN Backend - Python 3.10 Compatible Requirements with IndicTrans2
# Optimized for maximum ML ecosystem compatibility and IndicTrans2 support
# Last updated: August 2025

# ============================================================================
# CORE WEB FRAMEWORK (Python 3.10 Stable)
# ============================================================================
fastapi==0.103.2
uvicorn[standard]==0.23.2
python-multipart==0.0.6

# ============================================================================
# DATABASE & ORM (Python 3.10 Stable)
# ============================================================================
sqlalchemy==2.0.21
psycopg2-binary==2.9.7
alembic==1.12.0

# ============================================================================
# AUTHENTICATION & SECURITY (Python 3.10 Stable)
# ============================================================================
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
PyJWT==2.8.0
authlib==1.2.1
cryptography==41.0.4

# ============================================================================
# OAUTH INTEGRATION (Python 3.10 Stable)
# ============================================================================
google-auth==2.22.0
google-auth-oauthlib==1.0.0
google-api-python-client==2.97.0
facebook-sdk==3.1.0

# ============================================================================
# HTTP CLIENT (Python 3.10 Stable)
# ============================================================================
httpx==0.24.1
requests==2.31.0

# ============================================================================
# CONFIGURATION & ENVIRONMENT (Python 3.10 Stable)
# ============================================================================
python-dotenv==1.0.0
pydantic==2.4.2
pydantic-settings==2.0.3

# ============================================================================
# DATA PROCESSING (Python 3.10 Fully Supported)
# ============================================================================
pandas==2.0.3
numpy==1.24.4

# ============================================================================
# ML MODELS & NLP (Python 3.10 - Best Compatibility)
# ============================================================================
# PyTorch with excellent Python 3.10 support
torch>=2.0.1+cpu --index-url https://download.pytorch.org/whl/cpu
transformers==4.33.3
tokenizers==0.13.3
huggingface-hub==0.16.4

# IndicTrans2 Dependencies (Python 3.10 Optimized)
sentencepiece==0.1.99
sacremoses==0.0.53
indic-nlp-library==0.81

# IndicTrans2 Installation (from source for latest features)
# Note: This will be installed via pip install git+https://github.com/AI4Bharat/IndicTrans2.git

# NLP Libraries
nltk==3.8.1

# DistilBERT and SHAP for Fraud Detection
scikit-learn==1.3.0
shap==0.42.1

# Additional ML dependencies
joblib==1.3.2
scipy==1.10.1

# ============================================================================
# CACHING & STORAGE (Python 3.10 Stable)
# ============================================================================
redis==4.6.0
aioredis==2.0.1

# ============================================================================
# PAYMENT INTEGRATION (Python 3.10 Stable)
# ============================================================================
instamojo-wrapper==1.2.0

# ============================================================================
# EMAIL SERVICE (Python 3.10 Stable)
# ============================================================================
sib-api-v3-sdk==7.6.0

# ============================================================================
# SEARCH SERVICE (Python 3.10 Stable)
# ============================================================================
algoliasearch==3.0.0

# ============================================================================
# FILE PROCESSING (Python 3.10 Stable)
# ============================================================================
pillow==10.0.1
aiofiles==23.1.0

# ============================================================================
# UTILITIES (Python 3.10 Stable)
# ============================================================================
python-slugify==8.0.1
python-dateutil==2.8.2
email-validator==2.0.0

# ============================================================================
# PRODUCTION SERVER (Python 3.10 Stable)
# ============================================================================
gunicorn==21.2.0

# ============================================================================
# MONITORING & LOGGING (Python 3.10 Stable)
# ============================================================================
structlog==23.1.0

# ============================================================================
# SECURITY (Python 3.10 Stable)
# ============================================================================
secure==0.3.0

# ============================================================================
# HEALTH CHECKS (Python 3.10 Stable)
# ============================================================================
fastapi-health==0.4.0

# ============================================================================
# RATE LIMITING (Python 3.10 Stable)
# ============================================================================
slowapi==0.1.9

# ============================================================================
# DEVELOPMENT & TESTING (Optional, Python 3.10 Stable)
# ============================================================================
pytest==7.4.0
pytest-asyncio==0.21.1

# ============================================================================
# DEPLOYMENT CONFIGURATION
# ============================================================================
# Environment Variables:
# PYTHON_VERSION=3.10.12
# TORCH_DEVICE=cpu
# USE_QUANTIZATION=true
# ENVIRONMENT=production

# Build Command (with IndicTrans2 installation):
# pip install --upgrade pip && pip cache purge && pip install --no-cache-dir -r requirements.txt && pip install git+https://github.com/AI4Bharat/IndicTrans2.git && python -c "import nltk; nltk.download('punkt', quiet=True)"

# Start Command:
# uvicorn app:app --host 0.0.0.0 --port $PORT --workers 2

# ============================================================================
# INDICTRANS2 SETUP NOTES
# ============================================================================
# 1. IndicTrans2 works best with Python 3.10
# 2. Install from GitHub for latest features and bug fixes
# 3. Supports 4 languages as requested: English, Hindi, Tamil, Telugu
# 4. Model downloads happen automatically on first use
# 5. CPU inference optimized for Render deployment

# ============================================================================
# INDICTRANS2 LANGUAGE CODES
# ============================================================================
# English: eng_Latn
# Hindi: hin_Deva  
# Tamil: tam_Taml
# Telugu: tel_Telu

# ============================================================================
# INDICTRANS2 MODELS
# ============================================================================
# English to Indic: ai4bharat/indictrans2-en-indic-1B
# Indic to English: ai4bharat/indictrans2-indic-en-1B
# Indic to Indic: ai4bharat/indictrans2-indic-indic-1B

# ============================================================================
# PERFORMANCE OPTIMIZATIONS FOR PYTHON 3.10
# ============================================================================
# - Mature PyTorch ecosystem (2+ years of Python 3.10 support)
# - All ML libraries have stable wheels
# - Faster build times due to pre-compiled packages
# - Better memory management for ML models
# - Optimized CUDA support (if needed later)

# ============================================================================
# TROUBLESHOOTING NOTES
# ============================================================================
# 1. If IndicTrans2 installation fails, use: pip install --no-deps git+https://github.com/AI4Bharat/IndicTrans2.git
# 2. For memory issues, set USE_QUANTIZATION=true
# 3. Models download to ~/.cache/huggingface/ by default
# 4. First translation request may take longer (model loading)
# 5. Use TORCH_DEVICE=cpu for Render deployment

# ============================================================================
# INDICTRANS2 USAGE EXAMPLE
# ============================================================================
# from IndicTrans2 import IndicProcessor
# 
# ip = IndicProcessor(direction="en-indic")
# 
# # English to Hindi
# hindi_text = ip.translate("Hello, how are you?", "hin_Deva", "eng_Latn")
# 
# # English to Tamil  
# tamil_text = ip.translate("Hello, how are you?", "tam_Taml", "eng_Latn")
# 
# # English to Telugu
# telugu_text = ip.translate("Hello, how are you?", "tel_Telu", "eng_Latn")

